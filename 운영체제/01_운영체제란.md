# 운영체제 OperatingSystem(OS)

운영 체제는 시스템 자원 관리자로 대표적으로 Window, Mac, UNIX 가 있다.  
(Window, Mac, 리눅스 모두 UNIX를 기반으로 발전했다)  

시스템 자원 (System Resource) == 컴퓨터 하드웨어이고  

CPU, Memory, I/O Devices, SSD, HDD 등이 모두 하드웨어다.  

<br>


## :arrow_forward: 운영체제 역할

하드웨어는 스스로 할 수 있는것이 없으므로 사용자가 원하는대로 하드웨어를 다룰 수 있게 지원하는게 운영체제다.  
```
CPU : 각 프로그램이 CPU를 얼만큼 사용할지 결정할 수 없다.  

메모리 : 각 프로그램을 어느 주소에 어느정도 크기로 저장할지 결정할 수 없다

등등...  
```

<br>

## :arrow_forward: 응용프로그램

- 프로그램 == 소프트웨어
- 소프트웨어 == 운영체제, 응용프로그램(엑셀,파포 등등)
- 응용프로그램 == 어플리케이션(App)
 

<br>

## :arrow_forward: 운영체제와 응용프로그램의 관계

운영체제는 하드웨어 뿐만 아니라 응용프로그램도 제어할 수 있다.  

운영체제는 응용프로그램을 관리하고 실행하며    

응용프로그램의 권한과 사용자도 관리한다. (관리자 권한으로 실행할 수 있게 해주는것)  

응용프로그램 자체는 누구나 만들 수 있기 때문에 내부적으로 문제가 발생할 수 있다.  

이때 응용프로그램을 강제로 종료하거나 비정상 동작을 막는것도 운영체제의 역할이다.  

<br>

### 컴퓨터 구조상 운영체제의 위치는?

운영체제는 컴퓨터를 키면 Memory에 올라간다. (하나의 소프트웨어이기 때문에)  
<br>

## :arrow_forward: 시분할 시스템과 멀티테스킹

배치 처리 시스템 : 한번에 한 작업만 순서대로 하는 완전 초기의 시스템  
(CPU가 필요 없음에도 응용프로그램이 실행중인경우 CPU를 점유하고 있음)  

시분할 시스템 : 다중 사용자를 지원하고, 컴퓨터 응답시간을 최소화하는 시스템  
(시간을 잘개 나눠서 여러 응용 프로그램을 동시에 실행)  

멀티 테스킹 : 단일 CPU에서 여러 응용 프로그램의 병렬 실행을 가능하게 하는 시스템  
(시분할 시스템을 활용하여 사용자가 느끼기에 여러 응용프로그램이 동시에 실행되는것 처럼 보이는 상태)  

<br>

## :arrow_forward: API (Application Programming Interface)
운영체제는 사용자 뿐만 아니라 응용프로그램을 위해서도 API라는 형태로 인터페이스를 제공한다.  
API는 함수, C 라이브러리 형태로 제공한다.  
한마디로 응용프로그램이 시스템리소스(하드웨어)를 사용하고 싶을때 API를 통해 운영체제에 요청을 보낸다.  
(사용자를 위한 인터페이스는 Shell 응용프로그램으로 제공한다.)  

<br>

## :arrow_forward: 시스템 콜
운영체제가 운영체제 각 기능을 사용할 수 있더록 시스템 콜 이라는 명령(함수)를 제공한다.  

대부분 API 내부에는 시스템콜을 호출하는 형태로 만들어진다.  

![os](../img/os.png)  
<br>


## :arrow_forward: 운영체제를 만든다면?

1. 운영체제를 개발한다 (Kernel)
2. 시스템 콜을 개발
3. API(library)를 활용하여 사용자를위한 Shell 프로그램 개발
4. 응용 프로그램 개발

<br>

## :arrow_forward: CPU Protection Rings
- CPU는 권한모드 라는것이 있다
  - 사용자 모드 (User mode)
    - 응용프로그램이 사용
  - 커널 모드 (kernel mode)
    - OS가 사용
    - 명령어 실행과 원하는 작업수행을 위한 자원접근을 가능하게 하는 모드

참고로 시스템 콜은 커널 영역에서 실행되고 커널모드 에서만 실행가능한 기능들이 있다.  

커널모드로 실행하려면 반드시 시스템콜을 거쳐야하고 시스템콜은 운영체제에 구현되어 있다.  
<br>

:arrow_forward: 굳이 사용자모드와 커널모드로 분리해둔 이유가 무엇일까?    
응용프로그램은 사용자모드에서 실행되고 전체 OS는 커널모드에서 접근이 가능하므로, 응용프로그램이 컴퓨터 전체 시스템에 영향을 주지 못하도록 막아주는 역할을 한다.  

